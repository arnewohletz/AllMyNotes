

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
    <script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iterator Pattern &mdash; All-My-Notes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/docsearch.css?v=0bd54598" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=ba2aac58" />
      <link rel="stylesheet" type="text/css" href="../../../_static/rtd-docsearch-custom.css?v=726ab6ef" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/thebelab-helper.js"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f0731925"></script>
      <script defer="defer" src="../../../_static/docsearch.js?v=711ed680"></script>
      <script defer="defer" src="../../../_static/docsearch_config.js?v=a08cdb4b"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
      <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="next" title="State Pattern" href="state_pattern.html" />
    <link rel="prev" title="Composite Pattern" href="composite_pattern.html" /> 
</head>

<body class="wy-body-for-nav">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/symbola" type="text/css"/>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a><div id="docsearch"></div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/java_script/alfatraining/index.html">JavaScript (alfatraining)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/shell_scripting/index.html">Shell Scripting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../firefox/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../games/index.html">Games</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../macos/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shell_scripting/index.html">Shell Scripting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Software Design</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Design Patterns</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="strategy_pattern.html">Strategy Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="decorator_pattern.html">Decorator Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="factory_method_pattern.html">Factory Method Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="abstract_factory_pattern.html">Abstract Factory Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="command_pattern.html">Command Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="adapter_pattern.html">Adapter Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="facade_pattern.html">Facade Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="proxy_pattern.html">Proxy Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="template_method_pattern.html">Template Method Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="composite_pattern.html">Composite Pattern</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Iterator Pattern</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#issue">Issue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solution">Solution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="state_pattern.html">State Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="observer_pattern.html">Observer Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="singleton.html">Singleton Pattern</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design_principles/index.html">Design Principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sphinx/index.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../windows/index.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/coding_fonts.html">Coding fonts </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/conda_commands.html">conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/git/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/kubernetes.html">Kubectl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/logitech_k860.html">Logitech K860 - Special keys </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/pycharm/index.html">Pycharm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/rst_sphinx.html">reStructuredText &amp; Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/sqlite/index.html">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/vscode_extensions.html">Visual Studio Code extensions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">All-My-Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Software Design</a></li>
          <li class="breadcrumb-item"><a href="index.html">Design Patterns</a></li>
      <li class="breadcrumb-item active">Iterator Pattern</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/howto/software_design/design_patterns/iterator_pattern.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="iterator-pattern">
<h1>Iterator Pattern<a class="headerlink" href="#iterator-pattern" title="Link to this heading"></a></h1>
<section id="issue">
<h2>Issue<a class="headerlink" href="#issue" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>I want to iterate through a collection, but I don’t want to care about its structure</p></li>
<li><p>Known iterable types are not sufficient or I don’t know about the structure, just need a way to get
all elements from the structure</p></li>
<li><p>The structure must not be of any known iterator type (e.g. list), but can be anything I want</p></li>
<li><p>Trying to reshape the data of differently structured classes to become compatible with
each other might be difficult to achieve and the logic to get to this format will be
different for each structure</p></li>
</ul>
</section>
<section id="solution">
<h2>Solution<a class="headerlink" href="#solution" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Uniform way to iterate over various collections of items, which derive from the same
interface, but vary in its structure</p></li>
<li><p>The iterate method is not returning all elements as flattened list at once, but returns
item after item with each time the iterate method is called</p></li>
<li><p>That way the collection does not expose it’s structure</p></li>
<li><p>Lazy Evaluation: By return only the next item, a result can be immediately checked and stopped
if wanted item is returned. This allows infinite collections</p></li>
<li><p>the iterator knows its current item, as well as the last and next one</p></li>
<li><p>The Iterator Pattern is a way of encapsulating the iteration specifics, to move it out of the
code using it</p></li>
</ul>
<div class="pattern-definition admonition">
<p class="admonition-title">Definition</p>
<p>The <strong>Iterator Pattern</strong> provides a way to access the elements of an aggregate object
sequentially without exposing its underlying representation.</p>
</div>
<pre align="center" class="mermaid align-center">
        classDiagram
    Iterable &lt;|-- ConcreteIterable : implements
    Iterator &lt;|-- ConcreteIterator : implements
    Iterable &lt;-- Client : HAS-A
    Iterator &lt;-- Client : HAS-A
    ConcreteIterator &lt;-- ConcreteIterable : creates
    ConcreteIterable &lt;-- ConcreteIterator : HAS-A
    class Iterable {
        +get_iterator() Iterator
    }
    class ConcreteIterable {
        +get_iterator() Iterator
    }
    class Iterator {
        +has_next() bool
        +next()
        +current() Item
    }
    class ConcreteIterator {
        +has_next() bool
        +next()
        +current() Item
    }
    </pre><ul class="simple">
<li><p>the <em>get_iterator()</em> method will return an object of type <em>Iterator</em></p></li>
<li><p>Each <em>ConcreteIterable</em> may have a different structure, so <em>get_iterator()</em> will return
a different <em>ConcreteIterator</em></p></li>
<li><p>a <em>ConcreteIterable</em> is a factory, that produces <em>ConcreteIterators</em></p></li>
<li><p>the <em>has_next()</em> method returns, if the iterator has a next element (or is at its end)</p></li>
<li><p>the <em>next()</em> method moves the pointer to the next element</p></li>
<li><p>the <em>current()</em> method returns the element the iterator’s index is currently pointing to
(here: using the type <em>Item</em>)</p></li>
<li><p>the <em>has_next()</em>, <em>next()</em> and <em>current()</em> methods can be combined (either all of them or just two),
but this violates the <a class="reference external" href="https://en.wikipedia.org/wiki/Command%E2%80%93query_separation">Command-query separation</a> principle (see below)</p></li>
</ul>
<div class="design-principle admonition">
<p class="admonition-title">Command-Query separation</p>
<p>Functions should either be <strong>queries</strong> or <strong>commands</strong>. Queries are for getting
data, but must not change the state. Commands are supposed to change the state, but
must not return any data. Functions must not do both.</p>
</div>
<ul class="simple">
<li><p><em>ConcreteIterable</em> create <em>ConcreteIterator</em> instances, not <em>Iterator</em> instances</p></li>
<li><p>The <em>HAS-A</em> relationship between <em>ConcreteIterator</em> and <em>ConcreteIterable</em> is <strong>optional</strong>. In case
it exists, the <em>ConcreteIterable</em> must pass itself into the <em>ConcreteIterator</em> constructor, so the
<em>ConcreteIterator</em> has a reference to what it is supposed to iterate over. The other way is, not to
pass the <em>ConcreteIterable</em> into the constructor, but only the data, the <em>ConcreteIterator</em> is
supposed to iterate over</p></li>
</ul>
<p>The reason why to keep <em>Iterable</em> and <em>Iterator</em> separate and not combine them in one class, is
that it had more than one responsibility: defining how to iterate over a set of item (<em>Iterable</em>) and
performing iteration over an iterable (<em>Iterator</em>). This violates the
<a class="reference external" href="https://en.wikipedia.org/wiki/Single-responsibility_principle">Single-responsibility principle</a>:</p>
<div class="design-principle admonition">
<p class="admonition-title">Single-Responsibility Principle</p>
<p><strong>A class should have only one reason to change</strong></p>
<p>This implies a class must have only one purpose. For instances, printing a set of data.
In that case, the only reason to change the class is because the way the data is printed
should be different.</p>
</div>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>Find a template example for Python at <a class="reference external" href="https://refactoring.guru/design-patterns/iterator/python/example">https://refactoring.guru/design-patterns/iterator/python/example</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>


<span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">Sword</span><span class="p">(</span><span class="n">Item</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Sword&quot;</span>


<span class="k">class</span> <span class="nc">Shield</span><span class="p">(</span><span class="n">Item</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Shield&quot;</span>


<span class="c1"># Iterator</span>
<span class="k">class</span> <span class="nc">InventoryIterator</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">is_done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">current</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Item</span><span class="p">:</span>
        <span class="k">pass</span>


<span class="c1"># Iterable</span>
<span class="k">class</span> <span class="nc">Inventory</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InventoryIterator</span><span class="p">:</span>
        <span class="k">pass</span>


<span class="c1"># ConcreteIterable 1</span>
<span class="k">class</span> <span class="nc">HandHeldInventory</span><span class="p">(</span><span class="n">Inventory</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">Item</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="n">Item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_right</span> <span class="o">=</span> <span class="n">right</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_left</span> <span class="o">=</span> <span class="n">left</span>

    <span class="k">def</span> <span class="nf">get_iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InventoryIterator</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">HandHeldInventoryIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Item</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_right</span>

    <span class="nd">@right</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_right</span> <span class="o">=</span> <span class="n">item</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Item</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_left</span>

    <span class="nd">@left</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_left</span> <span class="o">=</span> <span class="n">item</span>


<span class="c1"># ConcreteIterable 2</span>
<span class="k">class</span> <span class="nc">BackPackInventory</span><span class="p">(</span><span class="n">Inventory</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">get_iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InventoryIterator</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># implementation ...</span>

    <span class="c1"># backpack can contain much more items than HandHeldInventory,</span>
    <span class="c1"># so handling both via Iterator Pattern makes sense, even though</span>
    <span class="c1"># HandHeldInventory can only hold two items</span>


<span class="c1"># ConcreteIterator 1</span>
<span class="k">class</span> <span class="nc">HandHeldInventoryIterator</span><span class="p">(</span><span class="n">InventoryIterator</span><span class="p">):</span>

    <span class="c1"># iterate oder: -&gt; right -&gt; left</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inventory</span><span class="p">:</span> <span class="n">HandHeldInventory</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span> <span class="o">=</span> <span class="n">inventory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">current</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Item</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">right</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">left</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="ne">IndexError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HandHeldInventory cannot have index of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;</span> <span class="mi">1</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="n">sword</span> <span class="o">=</span> <span class="n">Sword</span><span class="p">()</span>
    <span class="n">shield</span> <span class="o">=</span> <span class="n">Shield</span><span class="p">()</span>
    <span class="n">inventory</span> <span class="o">=</span> <span class="n">HandHeldInventory</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">sword</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">shield</span><span class="p">)</span>
    <span class="n">iterator</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">get_iterator</span><span class="p">()</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">iterator</span><span class="o">.</span><span class="n">is_done</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">iterator</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># do other cool stuff with current item</span>
        <span class="n">iterator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="composite_pattern.html" class="btn btn-neutral float-left" title="Composite Pattern" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="state_pattern.html" class="btn btn-neutral float-right" title="State Pattern" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
      <div class="lastupdate">
        This page was last updated on
        <span class="update_date">Jan 04, 2025</span>.
      </div>
    
    <p>&#169; Copyright 2021-2024, Arne Wohletz.</p>

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>