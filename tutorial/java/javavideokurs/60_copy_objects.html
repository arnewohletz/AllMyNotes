

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
    <script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>60. Objekte kopieren (clone) &mdash; All-My-Notes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/docsearch.css?v=0bd54598" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=ba2aac58" />
      <link rel="stylesheet" type="text/css" href="../../../_static/rtd-docsearch-custom.css?v=726ab6ef" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/thebelab-helper.js"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f0731925"></script>
      <script defer="defer" src="../../../_static/docsearch.js?v=711ed680"></script>
      <script defer="defer" src="../../../_static/docsearch_config.js?v=a08cdb4b"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="next" title="61. Objekte vergleichen (equals)" href="61_compare_objects.html" />
    <link rel="prev" title="59. Ausnahmebehandlung: Design Guide" href="59_exc_design_guide.html" /> 
</head>

<body class="wy-body-for-nav">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/symbola" type="text/css"/>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a><div id="docsearch"></div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Java</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">JavaVideoKurs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="06_instantiation.html">06. Instanz-Initialisierung</a></li>
<li class="toctree-l3"><a class="reference internal" href="09_access_modifier.html">09. Access Modifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="20_packages.html">20. Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="21_primitive_types.html">21. Primitive Datentypen</a></li>
<li class="toctree-l3"><a class="reference internal" href="27_call_by_value.html">27. Call by Value</a></li>
<li class="toctree-l3"><a class="reference internal" href="28_call_by_reference.html">28. Referenzen (Call by Reference)</a></li>
<li class="toctree-l3"><a class="reference internal" href="29_garbage_collector.html">29. Garbage Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="31_conditional_command.html">31 Bedingte Anweisung</a></li>
<li class="toctree-l3"><a class="reference internal" href="36_arrays.html">36. Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="38_recursion.html">38. Rekursion</a></li>
<li class="toctree-l3"><a class="reference internal" href="44_break_continue.html">44. Break &amp; Continue</a></li>
<li class="toctree-l3"><a class="reference internal" href="45_code_labels.html">45. Code Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="46_inheritance.html">46. Vererbung</a></li>
<li class="toctree-l3"><a class="reference internal" href="47_inheritance_hierarchy.html">47. Vererbungshierarchie</a></li>
<li class="toctree-l3"><a class="reference internal" href="48_polymorphism.html">48. Polymorphism</a></li>
<li class="toctree-l3"><a class="reference internal" href="49_casting.html">49. Casting von komplexen Dateitypen</a></li>
<li class="toctree-l3"><a class="reference internal" href="50_inheritance_scope.html">50. Scopes bei der Vererbung</a></li>
<li class="toctree-l3"><a class="reference internal" href="51_super.html">51. Keyword super</a></li>
<li class="toctree-l3"><a class="reference internal" href="52_overriding.html">52. Overriding</a></li>
<li class="toctree-l3"><a class="reference internal" href="53_abstract.html">53. Keyword abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="54_interfaces.html">54. Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="55_error_handling.html">55. Error Handling (Theorie)</a></li>
<li class="toctree-l3"><a class="reference internal" href="56_exception_handling.html">56. Ausnahmebehandlung (exceptions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="57_try_catch.html">57. Exceptions behandeln (try-catch)</a></li>
<li class="toctree-l3"><a class="reference internal" href="58_throw_exceptions.html">58. Exceptions werfen (throw)</a></li>
<li class="toctree-l3"><a class="reference internal" href="59_exc_design_guide.html">59. Ausnahmebehandlung: Design Guide</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">60. Objekte kopieren (clone)</a></li>
<li class="toctree-l3"><a class="reference internal" href="61_compare_objects.html">61. Objekte vergleichen (equals)</a></li>
<li class="toctree-l3"><a class="reference internal" href="62_object_id.html">62. Objekt-ID (hashCode)</a></li>
<li class="toctree-l3"><a class="reference internal" href="63_string_constant_pool.html">63. String Constant Pool</a></li>
<li class="toctree-l3"><a class="reference internal" href="64_regex.html">64. Reguläre Ausdrücke (RegEx)</a></li>
<li class="toctree-l3"><a class="reference internal" href="65_enums.html">65. Enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="66_generics.html">66. Generics</a></li>
<li class="toctree-l3"><a class="reference internal" href="67_bounds_wildcards.html">67. Bounds &amp; Wildcards</a></li>
<li class="toctree-l3"><a class="reference internal" href="68_wrapper.html">68. Wrapper &amp; Auto-(Un) Boxing</a></li>
<li class="toctree-l3"><a class="reference internal" href="69_collections.html">69. Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="70_threading.html">70. (Multi-) Threading</a></li>
<li class="toctree-l3"><a class="reference internal" href="71_thread_runnable.html">71. Thread &amp; Runnable</a></li>
<li class="toctree-l3"><a class="reference internal" href="72_threading_anomalies_examples.html">73. Threading Anomalien (Beispiele)</a></li>
<li class="toctree-l3"><a class="reference internal" href="73_threading_anomalies_solution.html">73. Threading Anomalies (Explanation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="74_synchronization.html">74. Synchronisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="75_deadlocks.html">75. Deadlocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="76_keyword_volatile.html">76. Keyword volatile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../java_script/alfatraining/index.html">JavaScript (alfatraining)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shell_scripting/index.html">Shell Scripting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/firefox/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/games/index.html">Games</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/macos/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/shell_scripting/index.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/software_design/index.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/sphinx/index.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/windows/index.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/coding_fonts.html">Coding fonts </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/conda_commands.html">conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/git/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/kubernetes.html">Kubectl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/logitech_k860.html">Logitech K860 - Special keys </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/pycharm/index.html">Pycharm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/rst_sphinx.html">reStructuredText &amp; Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/sqlite/index.html">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/vs_code/index.html">VS Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">All-My-Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Java</a></li>
          <li class="breadcrumb-item"><a href="index.html">JavaVideoKurs</a></li>
      <li class="breadcrumb-item active">60. Objekte kopieren (clone)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tutorial/java/javavideokurs/60_copy_objects.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="objekte-kopieren-clone">
<h1>60. Objekte kopieren (clone)<a class="headerlink" href="#objekte-kopieren-clone" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>clone() erzeugt eine Kopie eines Objekts</p></li>
<li><p>wird einer Variablen der Klon eines Objekts zugewiesen, so referenziert diese
auf ein Objekt, was den Status zum Zeitpunkt des Klonens des ursprünglichen
Objektes besitzt</p></li>
</ul>
<p><strong>Problem</strong></p>
<blockquote>
<div><p>Die Klasse clone ist protected, d.h. man kann nicht von anderen Packages
aus per Punktnotation die clone-Methode einer anderen Klasse aus aufrufen.</p>
</div></blockquote>
<p><strong>Lösung</strong></p>
<blockquote>
<div><p>Die clone()-Methode der Superklasse in der Klasse des zu klonenden Objektes
überschrieben und der Access Modifier dabei auf public gesetzt (offener ist
stets möglich):</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Spielstand</span><span class="w"> </span><span class="nf">clone</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">CloneNotSupportedException</span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">Spielstand</span><span class="p">)</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>protected -&gt; public</p></li>
<li><p>Die Methode der Superklasse wird aufgerufen</p></li>
<li><p>Beim Rückgabewert muss auf den Objekttyp gecastet werden, da dieser als
Rückgabewert verlangt wird.</p></li>
</ol>
</div></blockquote>
<p><strong>Problem</strong></p>
<blockquote>
<div><p>Wird die clone() Methode nun aufgerufen gibt es einen Fehler:  Unhandled exception
type CloneNotSupportedException.</p>
</div></blockquote>
<p><strong>Lösung</strong></p>
<blockquote>
<div><p>Die Methode muss daher in in einen try-catch Block gefasst werden:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">aktuellerSpielstand</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">CloneNotSupportedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p>Eine Klasse, welche clone()-Methode unterstützen soll muss das Interface Cloneable
implementieren:</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Spielstand</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Cloneable</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Faustregel</strong>: Wird in einer Klasse die clone()-Methode überschrieben, muss
sie das Interface <em>Cloneable</em> implementieren. Die CloneNotSupportedException
wird dann geworfen, wenn das Interface Cloneable nicht implementiert ist.</p>
</li>
<li><p>Das Interface <em>Cloneable</em> ist leer, daher müssen keine Methoden implementiert
werden (Marker-Interface), was eine reine Kennzeichnung darstellt</p></li>
<li><p>Durch Prüfen mit <em>instanceof</em> wird geprüft, ob ein Interface implementiert</p></li>
<li><p><span class="ulined">Designkorrektur</span>: Da das Interface Cloneable mit 100 %-iger
Sicherheit in die Klasse Spielstand implementiert ist, kann ausgeschlossen
werden, dass die CloneNotSupportedException in der main-Methode geworfen wird.
Um den Code daher zu verringern, sollte der try-catch Block daher bereits in
der Spielstand.clone()-Methode erfolgen:</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Spielstand</span><span class="w"> </span><span class="nf">clone</span><span class="p">(){</span>
<span class="w">    </span><span class="n">Spielstand</span><span class="w"> </span><span class="n">klon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">try</span><span class="p">{</span>
<span class="w">        </span><span class="n">klon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Spielstand</span><span class="p">)</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">CloneNotSupportedException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">klon</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Die geworfene Exception der Super-Klasse wird direkt in der clone()-Methode
behandelt (durch printStackTrace()).</p></li>
<li><p>Die Methode selbst wirft die Exception nicht weiter (throws
<em>CloneNotSupportedException</em> wird gelöscht).</p></li>
<li><p>Die lokale Variable klon wird zurückgegeben, damit die Methode stets etwas
zurück gibt, auch wenn der Ausnahmefehler auftritt (<code class="code highlight java docutils literal highlight-java"><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">Spielstand</span><span class="p">)</span></code>
&amp; <code class="code highlight java docutils literal highlight-java"><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span></code> wird zu <code class="code highlight java docutils literal highlight-java"><span class="n">klon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Spielstand</span><span class="p">)</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span></code>
&amp; <code class="code highlight java docutils literal highlight-java"><span class="k">return</span><span class="w"> </span><span class="n">klon</span><span class="p">;</span></code> am Ende der Methode.</p></li>
<li><p>Somit Rückgabewert = null bei Exception; Rückgabewert ist die Objektkopie
sofern keine Exception.</p></li>
</ol>
<p>Gleichzeitig kann der try-catch Block in der main-Methode entfernt werden:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sichereSpielstand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO: aktuellen Spielstand klonen und als gesicherten Spielstand</span>
<span class="w">    </span><span class="c1">// speichern</span>
<span class="w">    </span><span class="n">aktuellerSpielstand</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Problem</strong></p>
<blockquote>
<div><p>Die super.clone()-Methode erzeugt keine ‘tiefe’ Kopie, sondern eine ‘flache’
Kopie, d.h. es wird nur die ‘obere Ebene’ des Objekts kopiert. D.h. befindet
sich unter den Instanzvariablen ein komplexer Datentyp (hier, Fahrzeug Objekt)
so wird nur die Referenzvariable geklont und nicht das Objekt selbst (bei
primitiven Datentypen ist alles OK).</p>
<p>Daher zeigen die Referenzvariable der Original-Instanz und die der kopierten
Instanz auf das gleiche Objekt:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Spielstand</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Cloneable</span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">punkte</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Fahrzeug</span><span class="w"> </span><span class="n">fahrzeug</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Lösung</strong></p>
<blockquote>
<div><p>Das Objekt selbst muss geklont werden, nicht nur dessen Referenzvariable.</p>
<ol class="arabic">
<li><p>Die clone()-Methode muss auch in der jeweiligen Klasse (hier: Fahrzeug)
definiert werden (daher auch hier: Cloneable implementieren):</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Fahrzeug</span><span class="w"> </span><span class="nf">clone</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Fahrzeug</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Fahrzeug</span><span class="p">)</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">CloneNotSupportedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Innerhalb der clone()-Methode der ursprünglich zu klonenden Klasse
(hier: Spielstand) die clone()-Methode der Klasse der in ihr befindlichen
Objekts aufrufen:</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Spielstand</span><span class="w"> </span><span class="nf">clone</span><span class="p">(){</span>
<span class="w">    </span><span class="n">Spielstand</span><span class="w"> </span><span class="n">klon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">try</span><span class="p">{</span>
<span class="w">        </span><span class="n">klon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Spielstand</span><span class="p">)</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span>
<span class="w">        </span><span class="n">klon</span><span class="p">.</span><span class="na">fahrzeug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fahrzeug</span><span class="p">.</span><span class="na">clone</span><span class="p">();</span><span class="w"> </span><span class="c1">//-&gt; weißt dem Fahrzeug-Objekt der Referenzvariable klon den Rückgabewert der clone()-Methode aus der Fahrzeug-Klasse zu</span>
<span class="w">    </span><span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">CloneNotSupportedException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">klon</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><span class="ulined">Strings</span> sind kein Problem und haben dieses Problem nicht, da
sie unveränderlich sind (immutables). Diese Kette geht solange, bis
keine Objekte mehr in den tiefergehenden Klasse vorhanden sind.</p>
</div></blockquote>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Object.clone() benutzt nicht den Konstruktor einer Klasse um eine neue
Instanz zu erzeugen. Ebenso werden keine Initialisierungsblöcke ausgeführt.
Sofern wichtiger Code in einem Initialisierungsblock oder im Konstruktor
vorhanden ist (z.B. Methodenaufrufe oder Instanzvariablen initialisieren),
muss dieser nach dem klonen nochmal <span class="ulined">händisch eingetragen</span> werden.</p>
</div>
</div></blockquote>
<p><strong>Zusammenfassung - Vorgehensweise:</strong></p>
<ol class="arabic simple">
<li><p>Cloneable interface für zu klonende Klasse implementieren.</p></li>
<li><p>clone()-Methode in der Klasse definieren.</p></li>
<li><p>super.clone() - Methode auf aufrufen + Signatur auf public + Klassentyp
setzten (damit in der main()-Methode nicht geachtet werden muss).</p></li>
<li><p>Sofern in der Klasse Objekte enthält, muss die clone()-Methode auch in dieser
Klasse implementiert werden und diese in der ursprünglich zu klonenden Klasse
aufgerufen werden (manche Java-Klassen bieten bereits eine clone()-Methode).</p></li>
</ol>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="59_exc_design_guide.html" class="btn btn-neutral float-left" title="59. Ausnahmebehandlung: Design Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="61_compare_objects.html" class="btn btn-neutral float-right" title="61. Objekte vergleichen (equals)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
      <div class="lastupdate">
        This page was last updated on
        <span class="update_date">Jul 17, 2025</span>.
      </div>
    
    <p>&#169; Copyright 2021-2025, Arne Wohletz.</p>

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>