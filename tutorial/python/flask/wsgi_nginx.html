

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
    <script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Set up a WSGI server &mdash; All-My-Notes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/docsearch.css?v=0bd54598" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=ba2aac58" />
      <link rel="stylesheet" type="text/css" href="../../../_static/rtd-docsearch-custom.css?v=726ab6ef" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/thebelab-helper.js"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f0731925"></script>
      <script defer="defer" src="../../../_static/docsearch.js?v=711ed680"></script>
      <script defer="defer" src="../../../_static/docsearch_config.js?v=a08cdb4b"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="next" title="Machine Learning" href="../machine_learning.html" />
    <link rel="prev" title="Create initial project structure" href="project_setup.html" /> 
</head>

<body class="wy-body-for-nav">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/symbola" type="text/css"/>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a><div id="docsearch"></div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java_script/alfatraining/index.html">JavaScript (alfatraining)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project_setup.html">New Project Setup</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Flask - Set up a web application</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="project_setup.html">Create initial project structure</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Set up a WSGI server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-and-setup-nginx">Install and setup nginx</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l5"><a class="reference internal" href="#macos">macOS</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#add-a-configuration-to-your-application">Add a configuration to your application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#manually-start-application-on-remote-server-linux">Manually start application on remote server (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatically-start-application-on-system-startup">Automatically start application on system startup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../machine_learning.html">Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyscript.html">PyScript </a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../shell_scripting/index.html">Shell Scripting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/firefox/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/games/index.html">Games</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/macos/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/shell_scripting/index.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/software_design/index.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/sphinx/index.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/windows/index.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/coding_fonts.html">Coding fonts </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/conda_commands.html">conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/git/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/kubernetes.html">Kubectl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/logitech_k860.html">Logitech K860 - Special keys </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/pycharm/index.html">Pycharm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/rst_sphinx.html">reStructuredText &amp; Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/sqlite/index.html">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/vscode_extensions.html">Visual Studio Code extensions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">All-My-Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Python</a></li>
          <li class="breadcrumb-item"><a href="index.html">Flask - Set up a web application</a></li>
      <li class="breadcrumb-item active">Set up a WSGI server</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tutorial/python/flask/wsgi_nginx.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="set-up-a-wsgi-server">
<h1>Set up a WSGI server<a class="headerlink" href="#set-up-a-wsgi-server" title="Link to this heading"></a></h1>
<p>Flask comes with a built-in webserver, but which is only supposed to be used during development.
Once you move your application into a production environment, you are strongly advised to
use a production WSGI server. Here, we will use <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/">uwsgi</a> as the WSGI server running on an
<a class="reference external" href="https://nginx.org/">nginx</a> web server to host our app.</p>
<section id="install-and-setup-nginx">
<span id="install-setup-nginx"></span><h2>Install and setup nginx<a class="headerlink" href="#install-and-setup-nginx" title="Link to this heading"></a></h2>
<p>At this point, your app should be deployed onto a dedicated machine (preferably Linux) as the
configuration must match its setup. Execute these steps on the server machine before proceeding:</p>
<ul class="simple">
<li><p>Deploy your application project onto the server machine (e.g. git clone)</p></li>
<li><p>Create a virtual environment for your application</p></li>
</ul>
<p>This enables you to set up the configuration of your web server.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>For actual production use, it is recommended to host from a Linux machine. For installation and
usage on Windows, please follow the instructions on <a class="reference external" href="http://nginx.org/en/docs/windows.html">http://nginx.org/en/docs/windows.html</a></p>
</div>
<p>Let’s start by adding the uWSGI package to our <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flask</span>
<span class="n">uwsgi</span>
</pre></div>
</div>
<p>Then we need to install and configure nginx on the server machine.</p>
<dl>
<dt><strong>Linux</strong></dt><dd><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>add-apt-repository<span class="w"> </span>ppa:nginx/stable
$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>upgrade
$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>nginx
</pre></div>
</div>
</dd>
</dl>
<p><strong>macOS</strong>
(<a class="reference external" href="https://brew.sh/">Homebrew</a> must be installed)</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>nginx
</pre></div>
</div>
</div></blockquote>
<p>An nginx server is able to host multiple applications while each must use a different port.
In order to define the port an applications uses (among other settings), your application
requires a configuration file for nginx.</p>
<p>But before creating it, we must tell nginx to use such config files, since by default it
only knows about its default config.</p>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Link to this heading"></a></h3>
<p>On Linux, the default config should be removed, because future application should each be
defined in a separate config file:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>rm<span class="w"> </span>/etc/nginx/sites-enabled/default
</pre></div>
</div>
</div></blockquote>
<p>This <code class="docutils literal notranslate"><span class="pre">default</span></code> configuration extends the base configuration found at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/nginx.conf</span></code>.
If you open it, you should find the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">include</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/*</span><span class="p">;</span>
</pre></div>
</div>
<p>which tells nginx to add all configurations files found within this directory. Don’t change it.</p>
<p>In case that line is not present, add it, save the file and restart nginx:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nginx<span class="w"> </span>/etc/init.d/nginx<span class="w"> </span>restart
</pre></div>
</div>
</div></blockquote>
</section>
<section id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Link to this heading"></a></h3>
<p>On macOS, create a new directory, that will hold this application’s config file:</p>
<dl>
<dt><strong>macOS only:</strong></dt><dd><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>/usr/local/etc/nginx/init.d
</pre></div>
</div>
</dd>
</dl>
<p>Open nginx’s default config and include your new config folder:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nano<span class="w"> </span>/usr/local/etc/nginx/nginx.conf
</pre></div>
</div>
</div></blockquote>
<p>Go to the bottom of the file and add</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>include /usr/local/etc/nginx/init.d/*.conf;
</pre></div>
</div>
</div></blockquote>
<p>before the last closing curly bracket, then save and close the file.</p>
<p>Restart the nginx server to apply your changes:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nginx<span class="w"> </span>-c<span class="w"> </span>/usr/local/etc/nginx/nginx.conf
</pre></div>
</div>
<p>or restart as brew service via</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>brew<span class="w"> </span>services<span class="w"> </span>start<span class="w"> </span>nginx
</pre></div>
</div>
</div></blockquote>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>On macOS, Nginx uses the port 8080 as default. This might conflict with applications already running on
that same port (e.g. some Java application). In order to change the default port, you need to
adapt the default config.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nano<span class="w"> </span>/usr/local/etc/nginx/nginx.conf
</pre></div>
</div>
<p>Find the uncommented line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="p">{</span>
    <span class="n">listen</span>       <span class="mi">8080</span><span class="p">;</span>
</pre></div>
</div>
<p>and change the port to your desired default port, then save and exit the file.
Now, restart the nginx server with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>brew<span class="w"> </span>services<span class="w"> </span>start<span class="w"> </span>nginx
</pre></div>
</div>
</div>
</section>
</section>
<section id="add-a-configuration-to-your-application">
<h2>Add a configuration to your application<a class="headerlink" href="#add-a-configuration-to-your-application" title="Link to this heading"></a></h2>
<p>Now create a nginx config file within your application’s root directory e.g. <code class="docutils literal notranslate"><span class="pre">nginx.conf</span></code>.
Insert the following content:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>server {
<span class="linenos"> 2</span>    listen         1050;
<span class="linenos"> 3</span>    server_name    localhost;
<span class="linenos"> 4</span>    charset        utf-8;
<span class="linenos"> 5</span>    client_max_body_size    75M;
<span class="linenos"> 6</span>    location / { try_files @uri @mywebapp; }
<span class="linenos"> 7</span>    location @mywebapp {
<span class="linenos"> 8</span>        include uwsgi_params;
<span class="linenos"> 9</span>        uwsgi_pass unix:/path/to/my/application/uwsgi.sock;
<span class="linenos">10</span>    }
<span class="linenos">11</span>}
</pre></div>
</div>
</div></blockquote>
<p>Adapt the application name (here: mywebapp) in line 6 and 7 with a descriptive name.
Also put in the path where your socket file should reside (e.g. put it to your project root directory).</p>
<p>The socket (line 9) is a service file that acts as the server’s endpoint for the network traffic of your Python application
and is created when your application is launched on the server machine (i.e. when nginx is launched). Please note, that
you need a valid path from your server machine.</p>
<p>The <em>listen</em> parameter (line 2) defines the port your application will use. It is recommended to use a free
port anywhere within the range between 1024 and 32767. You can check all used ports by running these commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>tail<span class="w"> </span>/etc/service
$<span class="w"> </span>netstat<span class="w"> </span>-an<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LISTEN
</pre></div>
</div>
<p>You can also check this list of <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers">common default ports</a>.</p>
<p>It is recommended to use a separate launcher to run the app over the WSGI server. Create a new Python file
in the project’s root directory e.g. <code class="docutils literal notranslate"><span class="pre">wsgi-runner.py</span></code> and insert this content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mywebapp.mywebapp</span> <span class="kn">import</span> <span class="n">app</span> <span class="k">as</span> <span class="n">application</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">application</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Adapt the module path where your Flask app instance is created (here: mywebapp.mywebapp).</p>
<p>Next up, create a uwsgi config file within your application’s root directory e.g. <code class="docutils literal notranslate"><span class="pre">uwsgi.ini</span></code>
and put in the following content:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>[uwsgi]
<span class="linenos"> 2</span># application&#39;s base folder
<span class="linenos"> 3</span>base = /path/to/my/application/root/directory
<span class="linenos"> 4</span># change current directory to application base
<span class="linenos"> 5</span>chdir = %(base)
<span class="linenos"> 6</span># python&#39;s module to import
<span class="linenos"> 7</span>app = wsgi-runner
<span class="linenos"> 8</span>module = %(app)
<span class="linenos"> 9</span># python interpreter root path (outside of bin/)
<span class="linenos">10</span>home = /path/to/my/python/interpreter/or/venv
<span class="linenos">11</span>pythonpath = %(base)
<span class="linenos">12</span># socket file&#39;s location
<span class="linenos">13</span>socket = %(base)/%n.sock
<span class="linenos">14</span># permissions to socket file
<span class="linenos">15</span>chmod-socket = 666
<span class="linenos">16</span># the variable that holds a flask application inside the module imported at line 6
<span class="linenos">17</span>callable = application
<span class="linenos">18</span># location of log files
<span class="linenos">19</span>logto = %(base)/log/uwsgi/%n.log
</pre></div>
</div>
<p>Adapt the <em>base</em> (line 3) and <em>home</em> (line 10) variables to your deployed application.
Also adapt <em>app</em> runner script (line 7) to your launcher.</p>
<p>Now, once again deploy your current project state onto the server machine.</p>
<p>On the server machine, create the log directory structure defined in <em>logto</em> (line 22) including an empty <code class="docutils literal notranslate"><span class="pre">uwsgi.log</span></code> file.</p>
<p>To make nginx host our application, we need to supply the <code class="docutils literal notranslate"><span class="pre">nginx.conf</span></code> to your nginx configuration directory.
Since the config file is part of the project (hence, it might be changed in the future) the server machine should
stay within the project structure, we create a symlink for it:</p>
<p><strong>macOS</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/path/to/my/application/nginx.conf<span class="w"> </span>/usr/local/etc/nginx/init.d/mywebapp.conf
</pre></div>
</div>
<p><strong>Linux</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/path/to/my/application/nginx.conf<span class="w"> </span>/etc/nginx/sites-enabled/mywebapp.conf
</pre></div>
</div>
<p>Now, you are ready to launch the uWSGI server for your application on the server machine. First make sure, you
activate your project’s virtual environment, then type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>uwsgi<span class="w"> </span>--ini<span class="w"> </span>/absolute/path/to/my/application/uwsgi.ini
</pre></div>
</div>
<p>This launches the uWSGI server using your project’s configuration. Now open a browser on your local
machine and type your server machines IP, colon and the port specified in <code class="docutils literal notranslate"><span class="pre">nginx.conf</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">10.180.2.75:1050</span></code>)
into the address bar, which will open the index page of your application.</p>
</section>
</section>
<section id="manually-start-application-on-remote-server-linux">
<h1>Manually start application on remote server (Linux)<a class="headerlink" href="#manually-start-application-on-remote-server-linux" title="Link to this heading"></a></h1>
<p>Starting the uWSGI process commonly needs the command window to remain open. If it is closed,
the application is also terminated.</p>
<p>To prevent that, the process must be detached from the shell instance. On Linux, you can
achieve this by creating separate session via <a class="reference external" href="https://www.gnu.org/software/screen/">screen</a>, which is not terminated when the
console is closed.</p>
<p>Check, if your server already features <code class="docutils literal notranslate"><span class="pre">screen</span></code> by typing</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>screen<span class="w"> </span>-h
</pre></div>
</div>
</div></blockquote>
<p>If that command is not available, install <em>screen</em> via</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>screen
</pre></div>
</div>
</div></blockquote>
<p>Now open a new screen via</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>screen
</pre></div>
</div>
</div></blockquote>
<p>A new screen is opened. Now you can start the uWSGI server (first activate the virtual environment):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>uwsgi<span class="w"> </span>--ini<span class="w"> </span>/absolute/path/to/my/application/uwsgi.ini
</pre></div>
</div>
</div></blockquote>
<p>To switch back to the original window, type <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">A</span></code> followed by a simple <code class="docutils literal notranslate"><span class="pre">d</span></code> (for detach). This does not close
the screen, which continues in the background, even after closing your terminal window.</p>
<p>Running <code class="docutils literal notranslate"><span class="pre">screen</span> <span class="pre">-ls</span></code> will list you all available screens. Each screen name starts with session ID (e.g. 32196).
To enter a specific screen (let’s say 32196.pts-10) , type</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>screen<span class="w"> </span>-r<span class="w"> </span><span class="m">32196</span>
</pre></div>
</div>
</div></blockquote>
<p>to resume a detached session. To kill a window, enter it, then type <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">a</span></code> followed by simple <code class="docutils literal notranslate"><span class="pre">k</span></code>, then confirm
with <code class="docutils literal notranslate"><span class="pre">y</span></code>. Alternatively, you may send a quit command while outside the screen (let’s say 32196.pts-10 again):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>screen<span class="w"> </span>-XS<span class="w"> </span><span class="m">32196</span><span class="w"> </span>quit
</pre></div>
</div>
</div></blockquote>
</section>
<section id="automatically-start-application-on-system-startup">
<h1>Automatically start application on system startup<a class="headerlink" href="#automatically-start-application-on-system-startup" title="Link to this heading"></a></h1>
<p><strong>macOS</strong>:</p>
<p>Copy the *.plist file into <code class="docutils literal notranslate"><span class="pre">/Library/LaunchDaemons</span></code> to start nginx as a brew service on startup:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/usr/local/opt/nginx/*.plist<span class="w"> </span>/Library/LaunchDaemons
</pre></div>
</div>
<p><strong>Linux</strong>:</p>
<p><em>coming later</em></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="project_setup.html" class="btn btn-neutral float-left" title="Create initial project structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../machine_learning.html" class="btn btn-neutral float-right" title="Machine Learning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
      <div class="lastupdate">
        This page was last updated on
        <span class="update_date">Jan 04, 2025</span>.
      </div>
    
    <p>&#169; Copyright 2021-2024, Arne Wohletz.</p>

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>