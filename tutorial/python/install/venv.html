<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
    <script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using virtual environments &mdash; All-My-Notes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=87e54e7c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css?v=5c84f910" />
      <link rel="stylesheet" type="text/css" href="../../../_static/docsearch.css?v=45fb5152" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=908fc493" />
      <link rel="stylesheet" type="text/css" href="../../../_static/rtd-docsearch-custom.css?v=726ab6ef" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/thebelab-helper.js"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script defer="defer" src="../../../_static/docsearch.js?v=77274085"></script>
        <script defer="defer" src="../../../_static/docsearch_config.js?v=a08cdb4b"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js?v=ffc8af2d"></script>
        <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js?v=12818e64"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="next" title="New Project Setup" href="../project_setup.html" />
    <link rel="prev" title="Pyenv: Install and manage Python versions" href="pyenv.html" /> 
</head>

<body class="wy-body-for-nav">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/symbola" type="text/css"/>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a><div id="docsearch"></div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="linux.html">Linux: Install Python on Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyenv.html">Pyenv: Install and manage Python versions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using virtual environments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-virtual-environment">Create a virtual environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#activate-the-virtual-environment">Activate the virtual environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-activation-script-to-your-project">Add activation script to your project</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows-activate-your-environments-from-anywhere">Windows: Activate your environments from anywhere</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../project_setup.html">New Project Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flask/index.html">Flask - Set up a web application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../machine_learning.html">Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyscript.html">PyScript </a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../shell_scripting/index.html">Shell Scripting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/firefox/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/games/index.html">Games</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/macos/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/shell_scripting/index.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/software_design/index.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/sphinx/index.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto/windows/index.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/coding_fonts.html">Coding fonts </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/conda_commands.html">conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/git/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/kubernetes.html">Kubectl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/logitech_k860.html">Logitech K860 - Special keys </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/pycharm_plugins.html">Pycharm Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/rst_sphinx.html">reStructuredText &amp; Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/sqlite/index.html">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/vscode_extensions.html">Visual Studio Code extensions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">All-My-Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Python</a></li>
          <li class="breadcrumb-item"><a href="index.html">Installation</a></li>
      <li class="breadcrumb-item active">Using virtual environments</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tutorial/python/install/venv.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-virtual-environments">
<h1>Using virtual environments<a class="headerlink" href="#using-virtual-environments" title="Link to this heading"></a></h1>
<p>The Python Standard Library contains the module <a class="reference external" href="https://docs.python.org/3/library/venv.html">venv</a>, which creates virtual environments.
It uses the Python interpreter, whose <em>venv</em> module is called.</p>
<p>In comparison to the third-party library <a class="reference external" href="https://virtualenv.pypa.io/en/latest/">virtualenv</a>, the virtual environment is not
completely independent from its base interpreter. That means, the environment becomes
unusable, if the base interpreter is uninstalled, but also that the virtual environment
is updated to later versions, if the base interpreter is (for example, 3.9.2 -&gt; 3.9.3).</p>
<p>Some commands below expect that your virtual environments are located in
<code class="docutils literal notranslate"><span class="pre">%USERPROFILE%/.venv</span></code> (Windows) and <code class="docutils literal notranslate"><span class="pre">$HOME/.venv</span></code> (Linux / macOS). You may choose
any other directory, but make sure to adapt the commands.</p>
<section id="create-a-virtual-environment">
<h2>Create a virtual environment<a class="headerlink" href="#create-a-virtual-environment" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;/path/to/target/env&gt;</span>
</pre></div></div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>On Windows, it has been observed, that if the interpreter is <strong>not</strong> referenced by
<code class="docutils literal notranslate"><span class="pre">python</span></code> but something like <code class="docutils literal notranslate"><span class="pre">python3.9</span></code>, the command fails. In that case,
use the absolute path to your interpreter, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt2:before {
  content: "C:\\> ";
}
</style><span class="prompt2">C<span class="p">:</span><span class="nl">\Users\my_username\AppData\Local\Programs\Python\Python39\python.exe</span><span class="c1"> -m venv &lt;/path/to/target/env&gt;</span></span>
</pre></div></div></div>
<p>You may choose something like <code class="docutils literal notranslate"><span class="pre">~/.venv/my_project_venv</span></code>
(Windows: <code class="docutils literal notranslate"><span class="pre">%USERPROFILE%\.venv\my_project_env</span></code>) as target path.</p>
</section>
<section id="activate-the-virtual-environment">
<h2>Activate the virtual environment<a class="headerlink" href="#activate-the-virtual-environment" title="Link to this heading"></a></h2>
<p><strong>On Linux / macOS:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">source</span><span class="w"> </span>&lt;/path/to/target/env&gt;/bin/activate</span>
</pre></div></div><p><strong>On Windows:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="p">&lt;</span>/path/to/target/env<span class="p">&gt;</span>/Scripts/activate.bat</span>
</pre></div></div></section>
<section id="add-activation-script-to-your-project">
<h2>Add activation script to your project<a class="headerlink" href="#add-activation-script-to-your-project" title="Link to this heading"></a></h2>
<p>To easily activate the associated environment from inside a project, create a file called <code class="docutils literal notranslate"><span class="pre">activate</span></code>
(Windows: <code class="docutils literal notranslate"><span class="pre">activate.bat</span></code>) in your project’s root directory.</p>
<p><strong>On Linux / macOS:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">cd</span><span class="w"> </span>/my/project/root</span>
<span class="prompt1">touch<span class="w"> </span>activate</span>
<span class="prompt1">chmod<span class="w"> </span>a+x<span class="w"> </span>activate</span>
</pre></div></div><p>Next, open the <code class="docutils literal notranslate"><span class="pre">activate</span></code> script and add the following content, then save exit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

<span class="nb">source</span><span class="w"> </span>~/.venv/&lt;ENV_NAME&gt;/bin/activate
</pre></div>
</div>
<p>Make the script executable via <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">u+x</span> <span class="pre">activate</span></code>. To call the script, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">source</span><span class="w"> </span>activate</span>
<span class="prompt1"></span>
<span class="prompt1"><span class="c1"># or alternatively</span></span>
<span class="prompt1">.<span class="w"> </span>activate</span>
</pre></div></div><div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Starting the script without <code class="docutils literal notranslate"><span class="pre">source</span></code> will execute the command in a sub-shell, in which
case the environment is activate only for the sub-shell, which is closed, once the script
finished.</p>
</div>
<p><strong>On Windows:</strong></p>
<p>Create the file <code class="docutils literal notranslate"><span class="pre">activate.bat</span></code> inside the project’s root directory. Open it and
add the following content:</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">echo</span> off

<span class="k">call</span> <span class="nv">%USERPROFILE%</span>\.venv\<span class="p">&lt;</span>ENV_NAME<span class="p">&gt;</span>\Scripts\activate
</pre></div>
</div>
</section>
<section id="windows-activate-your-environments-from-anywhere">
<h2>Windows: Activate your environments from anywhere<a class="headerlink" href="#windows-activate-your-environments-from-anywhere" title="Link to this heading"></a></h2>
<p>It may be useful to activate an environment from anywhere and also
to get an overview over your virtual environments.</p>
<p><strong>On Windows:</strong></p>
<p>Save the following content into a file called <code class="docutils literal notranslate"><span class="pre">activate.bat</span></code>.
The file must be saved in a directory, which is listed the <strong>PATH</strong> environmental
variable (for example, create a directory <code class="docutils literal notranslate"><span class="pre">C:\bin</span></code>):</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">echo</span> off

<span class="k">set</span> <span class="nv">ENV</span><span class="p">=</span><span class="nv">%1</span>
<span class="k">set</span> <span class="nv">AVAILABLE_ENV</span><span class="p">=</span>dir <span class="nv">%USERPROFILE%</span>\.venv /A:D /B

<span class="k">if</span> [<span class="nv">%ENV%</span>]<span class="o">==</span>[] <span class="p">(</span>
    <span class="k">echo</span>:
    <span class="k">echo</span> Missing environment name.
    <span class="k">echo</span>:
    <span class="k">echo</span> Usage: activate <span class="se">^&lt;</span>ENV_NAME<span class="se">^&gt;</span>
    <span class="k">GOTO</span> <span class="nl">INVALID_INPUT</span>
<span class="p">)</span>

<span class="nv">%AVAILABLE_ENV%</span><span class="p">|</span>find <span class="s2">&quot;</span><span class="nv">%ENV%</span><span class="s2">&quot;</span> <span class="p">&gt;</span> nul

<span class="k">if</span> <span class="k">errorlevel</span> <span class="mi">1</span> <span class="p">(</span>
    <span class="k">echo</span>:
    <span class="k">echo</span> Environment &#39;<span class="nv">%ENV%</span>&#39; was not found.
    <span class="k">GOTO</span> <span class="nl">INVALID_INPUT</span>
<span class="p">)</span> <span class="k">else</span> <span class="p">(</span>
    <span class="nv">%USERPROFILE%</span>\.venv\<span class="nv">%ENV%</span>\Scripts\activate.bat
    <span class="k">GOTO</span> <span class="nl">EOF</span>
<span class="p">)</span>

<span class="p">:</span><span class="nl">INVALID_INPUT</span>
<span class="k">echo</span>:
<span class="k">echo</span> Possible selections
<span class="k">echo</span> -------------------
<span class="nv">%AVAILABLE_ENV%</span>

<span class="p">:</span><span class="nl">EOF</span>
<span class="k">exit</span> /b 0
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The script expects all virtual environments to be available in
<code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;YOUR_USERNAME&gt;\.venv</span></code>. If not, adapt the script accordingly.</p>
</div>
<p>To run the script, run <code class="docutils literal notranslate"><span class="pre">activate</span> <span class="pre">&lt;ENV_NAME&gt;</span></code> from anywhere. To see
all available environments only run <code class="docutils literal notranslate"><span class="pre">activate</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyenv.html" class="btn btn-neutral float-left" title="Pyenv: Install and manage Python versions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../project_setup.html" class="btn btn-neutral float-right" title="New Project Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
      <div class="lastupdate">
        This page was last updated on
        <span class="update_date">Jul 18, 2024</span>.
      </div>
    
    <p>&#169; Copyright 2021-2024, Arne Wohletz.</p>

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>