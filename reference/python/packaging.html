

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    
    <script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Package code - Comparing options &mdash; All-My-Notes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/docsearch.css?v=0bd54598" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=ba2aac58" />
      <link rel="stylesheet" type="text/css" href="../../_static/rtd-docsearch-custom.css?v=726ab6ef" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/thebelab-helper.js"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f0731925"></script>
      <script defer="defer" src="../../_static/docsearch.js?v=711ed680"></script>
      <script defer="defer" src="../../_static/docsearch_config.js?v=a08cdb4b"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="next" title="PEP 8 - Python code style guide" href="pep8.html" />
    <link rel="prev" title="Important numpy methods" href="machine_learning/numpy_functions.html" /> 
</head>

<body class="wy-body-for-nav">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/symbola" type="text/css"/>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a><div id="docsearch"></div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/shell_scripting/index.html">Shell Scripting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../howto/docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/firefox/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/games/index.html">Games</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/macos/index.html">macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/shell_scripting/index.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/software_design/index.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/sphinx/index.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto/windows/index.html">Windows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../coding_fonts.html">Coding fonts </a></li>
<li class="toctree-l1"><a class="reference internal" href="../conda_commands.html">conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">Kubectl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logitech_k860.html">Logitech K860 - Special keys </a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/index.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/index.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pycharm/index.html">Pycharm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cheat_sheets/index.html">Cheat Sheets</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_and_static_methods.html">Class method &lt;-&gt; static method </a></li>
<li class="toctree-l2"><a class="reference internal" href="iterators.html">Iterators &amp; Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="machine_learning/index.html">Machine Learning</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Package code - Comparing options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pex-and-others">PEX (and others)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-packages">System Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conda">Conda</a></li>
<li class="toctree-l4"><a class="reference internal" href="#containers-docker">Containers / Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#links">Links</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sources">Sources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pep8.html">PEP 8 - Python code style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="pip_commands.html">pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_extensions.html">Pytest extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_alchemy.html">SQL Alchemy - Basic Declarative DB Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rst_sphinx.html">reStructuredText &amp; Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sqlite/index.html">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vscode_extensions.html">Visual Studio Code extensions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">All-My-Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Python</a></li>
      <li class="breadcrumb-item active">Package code - Comparing options</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/reference/python/packaging.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="package-code-comparing-options">
<h1>Package code - Comparing options<a class="headerlink" href="#package-code-comparing-options" title="Link to this heading"></a></h1>
<p>There are multiple ways to package and distribute a Python program.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Comparison chart (–&gt; increase in content from left to right)</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Wheel (*.whl)</p></th>
<th class="head"><p>PEX (and others)</p></th>
<th class="head"><p>System package ( e.g. rpm, deb, brew)</p></th>
<th class="head"><p>Conda</p></th>
<th class="head"><p>Self contained executable (e.g. PyInstaller)</p></th>
<th class="head"><p>Container image (e.g. Docker)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="raw-html"><p style="font-weight: bold;">Description</p></span></p></td>
<td><p>Bundles code into single file which can be installed with pip</p></td>
<td><p>Bundles code + Python dependencies into a single, executable file</p></td>
<td><p>System library package which includes code and references to other system packages</p></td>
<td><p>Combines Python and system packages (except OS’ standard C library) into one package system</p></td>
<td><p>Self-contained executable that includes all dependencies except external C libraries</p></td>
<td><p>Complete, isolated filesystem which includes everything to run the application</p></td>
</tr>
<tr class="row-odd"><td><p><span class="raw-html"><p style="font-weight: bold;">Suited for</p></span></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Libraries</p></td>
<td><p>yes</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>Development Tools</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>(yes)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>End-User Applications (Non-Devs)</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p><span class="raw-html"><p style="font-weight: bold;">Includes</p></span></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Source Code</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>Compiled Files</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p><span class="raw-html"><p style="font-weight: bold;">Contained Dependencies</p></span></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Third party Python libraries</p></td>
<td><p>Can be specified, but not included</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>Python interpreter</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>Can be specified, but not included</p></td>
<td><p>Can be specified, but not included</p></td>
<td><p>yes</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>System packages (e.g. libc)</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>Can be specified, but not included</p></td>
<td><p>yes</p></td>
<td><p>no</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>OS (e.g. a Linux distribution)</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>no</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading"></a></h2>
<section id="pex-and-others">
<h3>PEX (and others)<a class="headerlink" href="#pex-and-others" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Tools built around zipapp (part of Python standard library)</p></li>
<li><p>Zipapp … no C extensions supported</p></li>
<li><p>These tools come from big companies (Google, Facebook, Linkedin)</p></li>
<li><p>A *.pex file is a complete virtual environment contains all required packages</p></li>
<li><p>A *.pex file can be used standalone without installing it into a different environment</p></li>
</ul>
</section>
<section id="system-packages">
<h3>System Packages<a class="headerlink" href="#system-packages" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>RPM: Red Hat Package Manager</p></li>
<li><p>DEB: Debian Package Manager</p></li>
<li><p>System administrator approach</p></li>
<li><p>Considered more stable to depend on system packages than python libraries</p></li>
</ul>
</section>
<section id="conda">
<h3>Conda<a class="headerlink" href="#conda" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Many PyPi packages are available as Conda package</p></li>
<li><p>Community project</p></li>
<li><p>Makers of conda distribution usually are not the developers</p></li>
</ul>
</section>
<section id="containers-docker">
<h3>Containers / Docker<a class="headerlink" href="#containers-docker" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Suitable if application requires a very specific OS setup</p></li>
<li><p>Don’t use alpine OS for deploying Python apps, standard C interpreter is
not well suited for Python (should always use glibc, but Alpine uses msl)</p></li>
<li><p>Installing binary wheels is disabled in alpine (since binary compatibility
is not given); compiling source code works mostly, though</p></li>
<li><p>Choose Debian image to ensure that pip installs works on your container</p></li>
<li><p>Upgrading alpine to properly compile a library (e.g. pandas) takes a lot
of tools (installation time about 15 minutes)</p></li>
</ul>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">General recommendations</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head stub"></th>
<th class="head"><p>GOOD if - Solution</p></th>
<th class="head"><p>BAD if - Downsides</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>Wheel</p></th>
<td><p>Your system libraries and Python version are standardized across applications, so you just preinstall all the necessary ones on your server farm.
Or, you are packaging a simple Python application that doesn’t need much beyond what’s available on PyPI or your private PyPI-equivalent server.</p></td>
<td><p>You have a heterogeneous collection of applications requiring different versions of Python.
Your application requires custom C/C++/etc. libraries that can’t be installed via pip, and that you can’t assume are pre-installed.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>PEX</p></th>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>System package</p></th>
<td><p>-</p></td>
<td><p>The specific packages you need are the wrong version on the particular OS version you’re using.
You want to run multiple applications with multiple dependencies on the same machine or virtual machine. This is possible in theory, but can end up being difficult due to conflicts or unavailable packages.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Conda</p></th>
<td><p>Good at supporting multiple applications with different dependencies (including Python version, and C library version) on the same machine or virtual machine.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Self contained executable</p></th>
<td><p>Good option if you don’t use you any special C shared libraries beyond the minimum you’d expect on any Linux distribution</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Container image</p></th>
<td><p>Great solution if you need to run lots of different combinations and variants, and you need some level of isolation.</p></td>
<td><p>You have multiple layers of packaging: you are likely going to have to do both Docker packaging and rely on one of the previously covered mechanisms.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="links">
<h2>Links<a class="headerlink" href="#links" title="Link to this heading"></a></h2>
<p>PEX (and others):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pex-tool/pex">https://github.com/pex-tool/pex</a></p></li>
<li><p><a class="reference external" href="https://github.com/google/subpar">https://github.com/google/subpar</a></p></li>
<li><p><a class="reference external" href="https://github.com/linkedin/shiv/">https://github.com/linkedin/shiv/</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/zipapp.html">https://docs.python.org/3/library/zipapp.html</a></p></li>
</ul>
<p>Conda:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://conda-forge.org/">https://conda-forge.org/</a></p></li>
<li><p><a class="reference external" href="https://anaconda.org/anaconda/repo">https://anaconda.org/anaconda/repo</a></p></li>
</ul>
<p>Docker:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.gnu.org/software/libc/">https://www.gnu.org/software/libc/</a></p></li>
<li><p><a class="reference external" href="https://musl.libc.org/">https://musl.libc.org/</a></p></li>
<li><p><a class="reference external" href="https://hub.docker.com/_/alpine">https://hub.docker.com/_/alpine</a></p></li>
<li><p><a class="reference external" href="https://hub.docker.com/_/debian">https://hub.docker.com/_/debian</a></p></li>
</ul>
<section id="sources">
<h3>Sources<a class="headerlink" href="#sources" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://realpython.com/podcasts/rpp/24/">https://realpython.com/podcasts/rpp/24/</a></p></li>
<li><p><a class="reference external" href="https://pythonspeed.com/articles/distributing-software/">https://pythonspeed.com/articles/distributing-software/</a></p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="machine_learning/numpy_functions.html" class="btn btn-neutral float-left" title="Important numpy methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pep8.html" class="btn btn-neutral float-right" title="PEP 8 - Python code style guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
      <div class="lastupdate">
        This page was last updated on
        <span class="update_date">Nov 05, 2024</span>.
      </div>
    
    <p>&#169; Copyright 2021-2024, Arne Wohletz.</p>

  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>